spring.application.name=Gestion-Docente-Backend

# ============================================
# Configuración de Base de Datos MySQL (PERSISTENTE)
# ============================================
# La base de datos se crea automáticamente si no existe
# Las tablas se crean/actualizan automáticamente al iniciar (ddl-auto=update)
# Los datos PERSISTEN cuando se detiene el programa
spring.datasource.url=jdbc:mysql://localhost:3306/GestionDocenteDB?createDatabaseIfNotExist=true&allowPublicKeyRetrieval=true&useSSL=false&serverTimezone=UTC
spring.datasource.username=root
spring.datasource.password=Ifoundaway3
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# Configuración JPA/Hibernate para MySQL
spring.jpa.database-platform=org.hibernate.dialect.MySQLDialect
# update: Crea las tablas si no existen, las actualiza si existen, NO BORRA datos al detener
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.use_sql_comments=true

# Configuración de conexión MySQL
spring.datasource.hikari.maximum-pool-size=10
spring.datasource.hikari.minimum-idle=5
spring.datasource.hikari.connection-timeout=20000

# ============================================
# Configuración H2 (comentada - solo para desarrollo/testing)
# ============================================
# spring.datasource.url=jdbc:h2:mem:gestiondocente
# spring.datasource.driver-class-name=org.h2.Driver
# spring.datasource.username=sa
# spring.datasource.password=
# spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
# spring.h2.console.enabled=true
# spring.h2.console.path=/h2-console

# Puerto del servidor
server.port=8080

# Spring Security está habilitado pero configurado para permitir todo (ver SecurityConfig)

# JWT Configuration
# En producción, usar variable de entorno JWT_SECRET
# Para desarrollo, se usa este valor por defecto
jwt.secret=${JWT_SECRET:MySuperSecretKeyForJWTTokenGenerationThatShouldBeAtLeast256BitsLongForHS512AlgorithmToWorkProperlyAndSecurely}
jwt.expiration=3600

# ============================================
# Configuración de Email (Gmail SMTP)
# ============================================
# IMPORTANTE: Configurar estas variables con tus credenciales de Gmail
# Para usar Gmail, necesitas crear una "Contraseña de aplicación" en tu cuenta de Google:
# 1. Ir a https://myaccount.google.com/security
# 2. Activar la verificación en dos pasos
# 3. Ir a "Contraseñas de aplicaciones" y generar una nueva
# 4. Usar esa contraseña en spring.mail.password
spring.mail.host=smtp.gmail.com
spring.mail.port=587
spring.mail.username=${GMAIL_USERNAME:gestiondocente2000mdp@gmail.com}
spring.mail.password=${GMAIL_APP_PASSWORD:gujd ioxs trip xqqf}
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.smtp.starttls.required=true
spring.mail.properties.mail.smtp.connectiontimeout=5000
spring.mail.properties.mail.smtp.timeout=5000
spring.mail.properties.mail.smtp.writetimeout=5000

# URL base de la aplicación (para links en emails)
app.base-url=${APP_BASE_URL:http://localhost:4200}